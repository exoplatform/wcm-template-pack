<?xml version="1.0" encoding="UTF-8"?><touchTouch.jquery.js xmlns:nt="http://www.jcp.org/jcr/nt/1.0" xmlns:xcmis="http://www.exoplatform.com/jcr/xcmis/1.0" xmlns:tkn="http://www.gatein.org/jcr/token/1.0/" xmlns:webdav="http://www.exoplatform.org/jcr/webdav" xmlns:gtn="http://www.gatein.org/jcr/gatein/1.0/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:plf="http://www.exoplatform.org/jcr/plf/1.0/" xmlns:jcr="http://www.jcp.org/jcr/1.0" xmlns:wsrp="http://www.gatein.org/jcr/wsrp/1.0/" xmlns:sv="http://www.jcp.org/jcr/sv/1.0" xmlns:ntf="http://www.gatein.org/jcr/ntf/1.0/" xmlns:wiki="http://exoplatform.org/wiki/1.0/" xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:jos="http://www.exoplatform.com/jcr-services/organization-service/1.0/" xmlns:metadata="http://www.exoplatform.com/jcr/metadata/1.1/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:app="http://www.gatein.org/jcr/application-registry/1.0/" xmlns:exoide="http://exoplatform.org/ide/1.1.x/" xmlns:stg="http://www.gatein.org/jcr/stg/1.0/" xmlns:cmis="http://www.exoplatform.com/jcr/cmis/1.0" xmlns:acme="http://www.exoplatform.com/plf/acme/4.0/" xmlns:lgn="http://www.gatein.org/jcr/autologin/1.0/" xmlns:mop="http://www.gatein.org/jcr/mop/1.0/" xmlns:fn_old="http://www.w3.org/2004/10/xpath-functions" xmlns:mix="http://www.jcp.org/jcr/mix/1.0" xmlns:publication="http://www.exoplatform.com/jcr/publication/1.1/" xmlns:exo="http://www.exoplatform.com/jcr/exo/1.0" xmlns:pc="http://www.gatein.org/jcr/pc/1.0/" xmlns:wai="http://www.exoplatform.com/ecm/accessibility/1.0" xmlns:soc="http://www.exoplatform.org/jcr/soc/1.0/" xmlns:rep="internal" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:portlet="http://www.gatein.org/jcr/portlet/1.0/" jcr:primaryType="nt:file" jcr:mixinTypes="exo:modify mix:referenceable exo:datetime exo:jsFile exo:owneable exo:sortable mix:commentable mix:votable mix:i18n publication:authoring publication:authoringPublication mix:versionable exo:activityInfo" jcr:uuid="e1f3a4f17f00000112a9a98bc9079e5e" exo:active="true" exo:activityId="e1f3a52c7f0000011e64696c71334371" exo:dateCreated="2015-06-11T16:29:10.642+07:00" exo:dateModified="2015-06-11T16:29:10.691+07:00" exo:index="1000" exo:language="en" exo:lastModifiedDate="2015-06-11T16:29:10.894+07:00" exo:lastModifier="root" exo:name="touchTouch.jquery.js" exo:owner="root" exo:presentationType="exo:jsFile" exo:priority="0" exo:sharedJS="true" exo:title="touchTouch.jquery.js" exo:voteTotal="0" exo:voteTotalOfLang="0" exo:votingRate="0.0" publication:currentState="draft" publication:history="touchTouch.jquery.js;enrolled;root;2015-06-11T16:29:10.690+07:00;Publication.log.description.enrolled touchTouch.jquery.js;draft;root;2015-06-11T16:29:10.690+07:00;PublicationService.AuthoringPublicationPlugin.changeState.draft" publication:lastUser="root" publication:lifecycle="lifecycle1" publication:lifecycleName="Authoring_x0020_publication" publication:revisionData="e1f3a4f17f00000112a9a98bc9079e5e,draft,root" jcr:baseVersion="e1f3a5217f0000011fad8fffc4ad0fcb" jcr:created="2015-06-11T16:29:10.642+07:00" jcr:isCheckedOut="true" jcr:predecessors="e1f3a5217f0000011fad8fffc4ad0fcb" jcr:versionHistory="e1f3a5217f00000163cce099fb42d352"><jcr:content jcr:primaryType="nt:resource" jcr:mixinTypes="exo:datetime exo:owneable dc:elementSet" jcr:uuid="e1f3a5117f00000100da554ea74dd44e" exo:dateCreated="2015-06-11T16:29:10.673+07:00" exo:dateModified="2015-06-11T16:29:10.673+07:00" exo:internalUse="false" exo:owner="root" jcr:data="OyhmdW5jdGlvbigpewoJCgkvKiBQcml2YXRlIHZhcmlhYmxlcyAqLwoJCgl2YXIgb3ZlcmxheSA9ICQoJzxkaXYgaWQ9ImdhbGxlcnlPdmVybGF5Ij4nKSwKCQlzbGlkZXIgPSAkKCc8ZGl2IGlkPSJnYWxsZXJ5U2xpZGVyIj4nKSwKCQlwcmV2QXJyb3cgPSAkKCc8YSBpZD0icHJldkFycm93Ij48L2E+JyksCgkJbmV4dEFycm93ID0gJCgnPGEgaWQ9Im5leHRBcnJvdyI+PC9hPicpLAoJCW92ZXJsYXlWaXNpYmxlID0gZmFsc2U7CgkJCgkJCgkvKiBDcmVhdGluZyB0aGUgcGx1Z2luICovCgkKCSQuZm4udG91Y2hUb3VjaCA9IGZ1bmN0aW9uKCl7CgkJCgkJdmFyIHBsYWNlaG9sZGVycyA9ICQoW10pLAoJCQlpbmRleCA9IDAsCgkJCWl0ZW1zID0gdGhpczsKCQkKCQkvLyBBcHBlbmRpbmcgdGhlIG1hcmt1cCB0byB0aGUgcGFnZQoJCW92ZXJsYXkuaGlkZSgpLmFwcGVuZFRvKCdib2R5Jyk7CgkJc2xpZGVyLmFwcGVuZFRvKG92ZXJsYXkpOwoJCQoJCS8vIENyZWF0aW5nIGEgcGxhY2Vob2xkZXIgZm9yIGVhY2ggaW1hZ2UKCQlpdGVtcy5lYWNoKGZ1bmN0aW9uKCl7CgkJCXBsYWNlaG9sZGVycyA9IHBsYWNlaG9sZGVycy5hZGQoJCgnPGRpdiBjbGFzcz0icGxhY2Vob2xkZXIiPicpKTsKCQl9KTsKCQoJCS8vIEhpZGUgdGhlIGdhbGxlcnkgaWYgdGhlIGJhY2tncm91bmQgaXMgdG91Y2hlZCAvIGNsaWNrZWQKCQlzbGlkZXIuYXBwZW5kKHBsYWNlaG9sZGVycykub24oJ2NsaWNrJyxmdW5jdGlvbihlKXsKCQkJaWYoISQoZS50YXJnZXQpLmlzKCdpbWcnKSl7CgkJCQloaWRlT3ZlcmxheSgpOwoJCQl9CgkJfSk7CgkJCgkJLy8gTGlzdGVuIGZvciB0b3VjaCBldmVudHMgb24gdGhlIGJvZHkgYW5kIGNoZWNrIGlmIHRoZXkKCQkvLyBvcmlnaW5hdGVkIGluICNnYWxsZXJ5U2xpZGVyIGltZyAtIHRoZSBpbWFnZXMgaW4gdGhlIHNsaWRlci4KCQkkKCdib2R5Jykub24oJ3RvdWNoc3RhcnQnLCAnI2dhbGxlcnlTbGlkZXIgaW1nJywgZnVuY3Rpb24oZSl7CgkJCQoJCQl2YXIgdG91Y2ggPSBlLm9yaWdpbmFsRXZlbnQsCgkJCQlzdGFydFggPSB0b3VjaC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWDsKCQoJCQlzbGlkZXIub24oJ3RvdWNobW92ZScsZnVuY3Rpb24oZSl7CgkJCQkKCQkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJCQoJCQkJdG91Y2ggPSBlLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXSB8fAoJCQkJCQllLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF07CgkJCQkKCQkJCWlmKHRvdWNoLnBhZ2VYIC0gc3RhcnRYID4gMTApewoJCQkJCXNsaWRlci5vZmYoJ3RvdWNobW92ZScpOwoJCQkJCXNob3dQcmV2aW91cygpOwoJCQkJfQoJCQkJZWxzZSBpZiAodG91Y2gucGFnZVggLSBzdGFydFggPCAtMTApewoJCQkJCXNsaWRlci5vZmYoJ3RvdWNobW92ZScpOwoJCQkJCXNob3dOZXh0KCk7CgkJCQl9CgkJCX0pOwoKCQkJLy8gUmV0dXJuIGZhbHNlIHRvIHByZXZlbnQgaW1hZ2UgCgkJCS8vIGhpZ2hsaWdodGluZyBvbiBBbmRyb2lkCgkJCXJldHVybiBmYWxzZTsKCQkJCgkJfSkub24oJ3RvdWNoZW5kJyxmdW5jdGlvbigpewoJCQlzbGlkZXIub2ZmKCd0b3VjaG1vdmUnKTsKCQl9KTsKCQkKCQkvLyBMaXN0ZW5pbmcgZm9yIGNsaWNrcyBvbiB0aGUgdGh1bWJuYWlscwoJCQoJCWl0ZW1zLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpewoJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCQoJCQkvLyBGaW5kIHRoZSBwb3NpdGlvbiBvZiB0aGlzIGltYWdlCgkJCS8vIGluIHRoZSBjb2xsZWN0aW9uCgkJCQoJCQlpbmRleCA9IGl0ZW1zLmluZGV4KHRoaXMpOwoJCQlzaG93T3ZlcmxheShpbmRleCk7CgkJCXNob3dJbWFnZShpbmRleCk7CgkJCQoJCQkvLyBQcmVsb2FkIHRoZSBuZXh0IGltYWdlCgkJCXByZWxvYWQoaW5kZXgrMSk7CgkJCQoJCQkvLyBQcmVsb2FkIHRoZSBwcmV2aW91cwoJCQlwcmVsb2FkKGluZGV4LTEpOwoJCQkKCQl9KTsKCQkKCQkvLyBJZiB0aGUgYnJvd3NlciBkb2VzIG5vdCBoYXZlIHN1cHBvcnQgCgkJLy8gZm9yIHRvdWNoLCBkaXNwbGF5IHRoZSBhcnJvd3MKCQlpZiAoICEoIm9udG91Y2hzdGFydCIgaW4gd2luZG93KSApewoJCQlvdmVybGF5LmFwcGVuZChwcmV2QXJyb3cpLmFwcGVuZChuZXh0QXJyb3cpOwoJCQkKCQkJcHJldkFycm93LmNsaWNrKGZ1bmN0aW9uKGUpewoJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJc2hvd1ByZXZpb3VzKCk7CgkJCX0pOwoJCQkKCQkJbmV4dEFycm93LmNsaWNrKGZ1bmN0aW9uKGUpewoJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJc2hvd05leHQoKTsKCQkJfSk7CgkJfQoJCQoJCS8vIExpc3RlbiBmb3IgYXJyb3cga2V5cwoJCSQod2luZG93KS5iaW5kKCdrZXlkb3duJywgZnVuY3Rpb24oZSl7CgkJCgkJCWlmIChlLmtleUNvZGUgPT0gMzcpewoJCQkJc2hvd1ByZXZpb3VzKCk7CgkJCX0KCQkJZWxzZSBpZiAoZS5rZXlDb2RlPT0zOSl7CgkJCQlzaG93TmV4dCgpOwoJCQl9CgkKCQl9KTsKCQkKCQkKCQkvKiBQcml2YXRlIGZ1bmN0aW9ucyAqLwoJCQoJCgkJZnVuY3Rpb24gc2hvd092ZXJsYXkoaW5kZXgpewoJCQkKCQkJLy8gSWYgdGhlIG92ZXJsYXkgaXMgYWxyZWFkeSBzaG93biwgZXhpdAoJCQlpZiAob3ZlcmxheVZpc2libGUpewoJCQkJcmV0dXJuIGZhbHNlOwoJCQl9CgkJCQoJCQkvLyBTaG93IHRoZSBvdmVybGF5CgkJCW92ZXJsYXkuc2hvdygpOwoJCQkKCQkJc2V0VGltZW91dChmdW5jdGlvbigpewoJCQkJLy8gVHJpZ2dlciB0aGUgb3BhY2l0eSBDU1MgdHJhbnNpdGlvbgoJCQkJb3ZlcmxheS5hZGRDbGFzcygndmlzaWJsZScpOwoJCQl9LCAxMDApOwoJCgkJCS8vIE1vdmUgdGhlIHNsaWRlciB0byB0aGUgY29ycmVjdCBpbWFnZQoJCQlvZmZzZXRTbGlkZXIoaW5kZXgpOwoJCQkKCQkJLy8gUmFpc2UgdGhlIHZpc2libGUgZmxhZwoJCQlvdmVybGF5VmlzaWJsZSA9IHRydWU7CgkJfQoJCgkJZnVuY3Rpb24gaGlkZU92ZXJsYXkoKXsKCQkJLy8gSWYgdGhlIG92ZXJsYXkgaXMgbm90IHNob3duLCBleGl0CgkJCWlmKCFvdmVybGF5VmlzaWJsZSl7CgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0KCQkJCgkJCS8vIEhpZGUgdGhlIG92ZXJsYXkKCQkJb3ZlcmxheS5oaWRlKCkucmVtb3ZlQ2xhc3MoJ3Zpc2libGUnKTsKCQkJb3ZlcmxheVZpc2libGUgPSBmYWxzZTsKCQl9CgkKCQlmdW5jdGlvbiBvZmZzZXRTbGlkZXIoaW5kZXgpewoJCQkvLyBUaGlzIHdpbGwgdHJpZ2dlciBhIHNtb290aCBjc3MgdHJhbnNpdGlvbgoJCQlzbGlkZXIuY3NzKCdsZWZ0JywoLWluZGV4KjEwMCkrJyUnKTsKCQl9CgkKCQkvLyBQcmVsb2FkIGFuIGltYWdlIGJ5IGl0cyBpbmRleCBpbiB0aGUgaXRlbXMgYXJyYXkKCQlmdW5jdGlvbiBwcmVsb2FkKGluZGV4KXsKCQkJc2V0VGltZW91dChmdW5jdGlvbigpewoJCQkJc2hvd0ltYWdlKGluZGV4KTsKCQkJfSwgMTAwMCk7CgkJfQoJCQoJCS8vIFNob3cgaW1hZ2UgaW4gdGhlIHNsaWRlcgoJCWZ1bmN0aW9uIHNob3dJbWFnZShpbmRleCl7CgkKCQkJLy8gSWYgdGhlIGluZGV4IGlzIG91dHNpZGUgdGhlIGJvbmRzIG9mIHRoZSBhcnJheQoJCQlpZihpbmRleCA8IDAgfHwgaW5kZXggPj0gaXRlbXMubGVuZ3RoKXsKCQkJCXJldHVybiBmYWxzZTsKCQkJfQoJCQkKCQkJLy8gQ2FsbCB0aGUgbG9hZCBmdW5jdGlvbiB3aXRoIHRoZSBocmVmIGF0dHJpYnV0ZSBvZiB0aGUgaXRlbQoJCQlsb2FkSW1hZ2UoaXRlbXMuZXEoaW5kZXgpLmF0dHIoJ2hyZWYnKSwgZnVuY3Rpb24oKXsKCQkJCXBsYWNlaG9sZGVycy5lcShpbmRleCkuaHRtbCh0aGlzKTsKCQkJfSk7CgkJfQoJCQoJCS8vIExvYWQgdGhlIGltYWdlIGFuZCBleGVjdXRlIGEgY2FsbGJhY2sgZnVuY3Rpb24uCgkJLy8gUmV0dXJucyBhIGpRdWVyeSBvYmplY3QKCQkKCQlmdW5jdGlvbiBsb2FkSW1hZ2Uoc3JjLCBjYWxsYmFjayl7CgkJCXZhciBpbWcgPSAkKCc8aW1nPicpLm9uKCdsb2FkJywgZnVuY3Rpb24oKXsKCQkJCWNhbGxiYWNrLmNhbGwoaW1nKTsKCQkJfSk7CgkJCQoJCQlpbWcuYXR0cignc3JjJyxzcmMpOwoJCX0KCQkKCQlmdW5jdGlvbiBzaG93TmV4dCgpewoJCQkKCQkJLy8gSWYgdGhpcyBpcyBub3QgdGhlIGxhc3QgaW1hZ2UKCQkJaWYoaW5kZXgrMSA8IGl0ZW1zLmxlbmd0aCl7CgkJCQlpbmRleCsrOwoJCQkJb2Zmc2V0U2xpZGVyKGluZGV4KTsKCQkJCXByZWxvYWQoaW5kZXgrMSk7CgkJCX0KCQkJZWxzZXsKCQkJCS8vIFRyaWdnZXIgdGhlIHNwcmluZyBhbmltYXRpb24KCQkJCQoJCQkJc2xpZGVyLmFkZENsYXNzKCdyaWdodFNwcmluZycpOwoJCQkJc2V0VGltZW91dChmdW5jdGlvbigpewoJCQkJCXNsaWRlci5yZW1vdmVDbGFzcygncmlnaHRTcHJpbmcnKTsKCQkJCX0sNTAwKTsKCQkJfQoJCX0KCQkKCQlmdW5jdGlvbiBzaG93UHJldmlvdXMoKXsKCQkJCgkJCS8vIElmIHRoaXMgaXMgbm90IHRoZSBmaXJzdCBpbWFnZQoJCQlpZihpbmRleD4wKXsKCQkJCWluZGV4LS07CgkJCQlvZmZzZXRTbGlkZXIoaW5kZXgpOwoJCQkJcHJlbG9hZChpbmRleC0xKTsKCQkJfQoJCQllbHNlewoJCQkJLy8gVHJpZ2dlciB0aGUgc3ByaW5nIGFuaW1hdGlvbgoJCQkJCgkJCQlzbGlkZXIuYWRkQ2xhc3MoJ2xlZnRTcHJpbmcnKTsKCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24oKXsKCQkJCQlzbGlkZXIucmVtb3ZlQ2xhc3MoJ2xlZnRTcHJpbmcnKTsKCQkJCX0sNTAwKTsKCQkJfQoJCX0KCX07CgkKfSkoalF1ZXJ5KTs=" jcr:lastModified="2015-06-11T16:29:10.685+07:00" jcr:mimeType="application/x-javascript"/></touchTouch.jquery.js>